# Схема интеграции приложений банка "Стандарт"

## Текущая архитектура интеграций

### Основные системы и их интеграции

```
┌─────────────────────────────────────────────────────────────────────┐
│                         ВНЕШНИЕ СИСТЕМЫ                              │
├─────────────────────────────────────────────────────────────────────┤
│  [Бюро кредитных историй]    [Телеком-оператор]    [Партнёрский     │
│         (REST API)              (СМС-шлюз)          кол-центр]      │
└────────────┬──────────────────────┬─────────────────────┬───────────┘
             │                      │                     │
             ▼                      ▼                     ▼
┌─────────────────────────────────────────────────────────────────────┐
│                      ФРОНТ-ОФИСНЫЕ СИСТЕМЫ                          │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌──────────────┐    ┌──────────────┐    ┌────────────────┐       │
│  │    Сайт      │    │ Интернет-банк│    │  Система       │       │
│  │ (PHP/React)  │    │ (ASP.NET/SQL)│◄───┤  кол-центра    │       │
│  └──────────────┘    └───────┬──────┘    │(React/Java/PG) │       │
│                              │            └────────┬───────┘       │
│                              │                     │                │
└──────────────────────────────┼─────────────────────┼────────────────┘
                               │ Прямая интеграция   │
                               │ с БД                │
                               ▼                     ▼
┌─────────────────────────────────────────────────────────────────────┐
│                         CORE BANKING                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│                    ┌─────────────────────┐                          │
│                    │        АБС          │                          │
│                    │  (Delphi/Oracle)    │◄─────────────┐           │
│                    │                     │              │           │
│                    │ • Счета клиентов    │              │           │
│                    │ • Платежи           │              │           │
│                    │ • Договоры          │              │           │
│                    └──────────┬──────────┘              │           │
│                               │                         │           │
│                               │ Batch (1 раз/день)     │           │
│                               ▼                         │           │
└───────────────────────────────────────────────────────┼─────────────┘
                                                        │
┌─────────────────────────────────────────────────────────────────────┐
│                      БЭК-ОФИСНЫЕ СИСТЕМЫ                            │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  ┌────────────────────┐         ┌─────────────────────┐            │
│  │ Кредитный конвейер │◄────────┤  Система скоринга   │            │
│  │  (Camunda/Oracle)  │  API    │ (Python/PostgreSQL) │            │
│  └────────────────────┘         └──────────┬──────────┘            │
│            │                               │                        │
│            │ Batch (1 раз/день)           │ Batch + Online API     │
│            └───────────────────────────────┴────────────────────────┤
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘
```

## Детальное описание интеграций

### 1. Интеграции АБС

| Система | Тип интеграции | Направление | Частота | Описание |
|---------|---------------|-------------|---------|----------|
| Интернет-банк | Прямое подключение к БД | Двусторонняя | Real-time | Проведение платежей, открытие счетов |
| Система кол-центра | API/БД | АБС → Кол-центр | Real-time | Передача обращений клиентов |
| СМС-шлюз | API | АБС → СМС | По событию | Отправка уведомлений клиентам |
| Кредитный конвейер | БД | АБС ↔ Конвейер | 1 раз/день | Передача кредитных заявок и решений |

### 2. Интеграции Кредитного конвейера

| Система | Тип интеграции | Направление | Частота | Описание |
|---------|---------------|-------------|---------|----------|
| АБС | БД | Двусторонняя | 1 раз/день | Получение заявок, передача решений |
| Система скоринга | REST API | Конвейер → Скоринг | Real-time | Запрос оценки кредитоспособности |

### 3. Интеграции Системы скоринга

| Система | Тип интеграции | Направление | Частота | Описание |
|---------|---------------|-------------|---------|----------|
| Бюро кредитных историй | REST API | Скоринг → БКИ | Real-time | Получение кредитной истории |
| АБС | БД | АБС → Скоринг | 1 раз/день | Получение данных о клиентах |
| Кредитный конвейер | БД | Конвейер → Скоринг | 1 раз/день | Получение истории платежей |

## Участники процессов

### Процесс открытия депозита

1. **Клиент** → Звонок в кол-центр / Визит в отделение
2. **Оператор кол-центра** → Создание обращения в системе кол-центра
3. **Система кол-центра** → Передача обращения в АБС
4. **Сотрудник бэк-офиса (депозиты)** → Обработка заявки в АБС
5. **Сотрудник бэк-офиса (кредитование)** → Анализ кредитного риска (для VIP)
6. **АБС** → Отправка СМС через СМС-шлюз
7. **Сотрудник фронт-офиса** → Оформление депозита в АБС

### Процесс открытия кредита

1. **Клиент** → Визит в отделение
2. **Сотрудник фронт-офиса** → Создание заявки в АБС
3. **АБС** → Batch-передача заявок в Кредитный конвейер (1 раз/день)
4. **Менеджер кредитования** → Обработка заявки в Кредитном конвейере
5. **Кредитный конвейер** → API-запрос к Системе скоринга
6. **Система скоринга** → API-запрос к Бюро кредитных историй
7. **Система скоринга** → Возврат оценки в Кредитный конвейер
8. **Менеджер кредитования** → Принятие решения
9. **Кредитный конвейер** → Batch-передача решений в АБС (1 раз/день)
10. **АБС** → Зачисление средств на счет клиента

## Проблемы текущей архитектуры

### Технические проблемы

1. **Отсутствие ESB/API Gateway** - прямые точечные интеграции между системами
2. **Batch-интеграции** - задержки до 24 часов в критических процессах
3. **Прямой доступ к БД** - риски безопасности и целостности данных
4. **Отсутствие единого API слоя** - сложность добавления новых каналов
5. **Монолитная архитектура** - сложность масштабирования и изменений

### Бизнес-проблемы

1. **Длительность процессов** - открытие депозита до 1 часа, кредита - несколько дней
2. **Ручные операции** - расчет ставок в Excel, обмен данными по email
3. **Ограниченные онлайн-возможности** - нельзя открыть депозит/кредит онлайн
4. **Отсутствие омниканальности** - разрозненный опыт в разных каналах
5. **Невозможность real-time решений** - из-за batch-интеграций

## Рекомендации для цифровой трансформации

1. **Внедрение API Management платформы** для централизации интеграций
2. **Переход на событийную архитектуру** с использованием брокера сообщений
3. **Создание микросервисов** для критических бизнес-функций
4. **Внедрение BPM/Orchestration** для автоматизации процессов
5. **Создание единого Data Lake** для аналитики и ML-моделей
